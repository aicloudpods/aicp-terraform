{
  "version": 4,
  "terraform_version": "0.12.29",
  "serial": 69,
  "lineage": "b9f78f0e-1f7c-150c-d07d-9b882f9321ff",
  "outputs": {},
  "resources": [
    {
      "module": "module.ingress",
      "mode": "data",
      "type": "aws_caller_identity",
      "name": "current",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "903578915146",
            "arn": "arn:aws:iam::903578915146:root",
            "id": "2020-08-09 08:22:52.583343 +0000 UTC",
            "user_id": "903578915146"
          }
        }
      ]
    },
    {
      "module": "module.ingress",
      "mode": "data",
      "type": "aws_eks_cluster",
      "name": "cluster",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:eks:eu-west-1:903578915146:cluster/eks-demo-prod",
            "certificate_authority": [
              {
                "data": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJd01EZ3dPVEE0TXpNeE4xb1hEVE13TURnd056QTRNek14TjFvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTTBUClQyTldUWXhnV1Rrb3hUYTA2STRwZldFVTFHUmttbjhyNjVqc0lENUVmOGRybm1yWlNoYkp1NHlodEdJeXZXMWwKdjdQWElycU8yeFdYYndJNXZEY1lOTU04YWpXUmtnVjhRWHlQOXBFZ2czZ0FmTHlOQU1iVEZVTkVRbUlzWCtKbgo2NzJzOUVPaTRVMXlVWkxkK0wvNHk0ZWx2U1FWZVdXdG9UWE8wZER2THJKQ1hibUU4UnluL2QyQ2pzc0ZHdWVHClo0eVJBM05QcE5FMXl2cVBlT1FoQ09RbkhKekdzY2w3czczL0VVek92NXRicDIvVFVFQVhDRC81ZCtRK0FXUEwKeHNLeUdlYXpiNGtvWmFhU1RpQTdTS09HcmVTV3V1SzNrbzRJNTNhb3RXWGtJdXB6Sm1EZzRaa0hDRFBEUnRRMQpvMFBQOSttL1ZSMkFkL0dHU21zQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFCNzgvR3M1NzZNWFN1ZDN3Nm12cW9zNWo0QkcKSWsyaVVjRHF3WHp6UEtpVG0vWUEycXdFZ2dCTzRwUFlGQmpHUUFmakNZQU52V2hFTXFTZXNwRVVOVTBiRUxwTQoyMURpTGc1NUJ0aWsxdnduUldob2pkQ1hxei9NR01XZzAzM3Npelp0cGZtRVBWL3ZPTC9kT2hvTnRjMGtBR2dwCkpXNGlpeE0rQkg0ekVoZUdxL1ZrdEY2NG5kdDd3ZFI1d2x2ZmpTb0ZYYlBWNXhraERrZWgzNGZnSktvY3ZFNnYKTlZpZGFqTnJDVDJlQzlJQjhQRkNmbzBxeHB6T1BPdS9mRzFMVHZMWjYvZVpQSmJkRTZsYTJDbXRoMG92RE02Mgoyb0RpNExXb2FSOVFML1pyeENHWjVtK1VYbHh2U3pObEFVL0pVSmpjRnJQenMza2VMRGNWOXNDcW9YWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
              }
            ],
            "created_at": "2020-08-09 08:23:53 +0000 UTC",
            "enabled_cluster_log_types": [
              "api",
              "audit",
              "authenticator",
              "controllerManager",
              "scheduler"
            ],
            "endpoint": "https://6A47DEB29302EA87F282E49ACC17E9D7.sk1.eu-west-1.eks.amazonaws.com",
            "id": "eks-demo-prod",
            "identity": [
              {
                "oidc": [
                  {
                    "issuer": "https://oidc.eks.eu-west-1.amazonaws.com/id/6A47DEB29302EA87F282E49ACC17E9D7"
                  }
                ]
              }
            ],
            "name": "eks-demo-prod",
            "platform_version": "eks.1",
            "role_arn": "arn:aws:iam::903578915146:role/eks-demo-eks-cluster-role",
            "status": "ACTIVE",
            "tags": {},
            "version": "1.17",
            "vpc_config": [
              {
                "cluster_security_group_id": "sg-03eb5f282fbc3ef4e",
                "endpoint_private_access": false,
                "endpoint_public_access": true,
                "public_access_cidrs": [
                  "0.0.0.0/0"
                ],
                "security_group_ids": [],
                "subnet_ids": [
                  "subnet-004695555e8c18403",
                  "subnet-0257d64ea0bc90a04",
                  "subnet-0470f1e270ce83d1c",
                  "subnet-04f262222fda120a4",
                  "subnet-060c2a1d1f2cba39e",
                  "subnet-0d48e697e7f25e28f"
                ],
                "vpc_id": "vpc-0080ce198f8fc1bf8"
              }
            ]
          }
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "data",
      "type": "aws_eks_cluster",
      "name": "cluster",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:eks:eu-west-1:903578915146:cluster/eks-demo-prod",
            "certificate_authority": [
              {
                "data": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJd01EZ3dPVEE0TXpNeE4xb1hEVE13TURnd056QTRNek14TjFvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTTBUClQyTldUWXhnV1Rrb3hUYTA2STRwZldFVTFHUmttbjhyNjVqc0lENUVmOGRybm1yWlNoYkp1NHlodEdJeXZXMWwKdjdQWElycU8yeFdYYndJNXZEY1lOTU04YWpXUmtnVjhRWHlQOXBFZ2czZ0FmTHlOQU1iVEZVTkVRbUlzWCtKbgo2NzJzOUVPaTRVMXlVWkxkK0wvNHk0ZWx2U1FWZVdXdG9UWE8wZER2THJKQ1hibUU4UnluL2QyQ2pzc0ZHdWVHClo0eVJBM05QcE5FMXl2cVBlT1FoQ09RbkhKekdzY2w3czczL0VVek92NXRicDIvVFVFQVhDRC81ZCtRK0FXUEwKeHNLeUdlYXpiNGtvWmFhU1RpQTdTS09HcmVTV3V1SzNrbzRJNTNhb3RXWGtJdXB6Sm1EZzRaa0hDRFBEUnRRMQpvMFBQOSttL1ZSMkFkL0dHU21zQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFCNzgvR3M1NzZNWFN1ZDN3Nm12cW9zNWo0QkcKSWsyaVVjRHF3WHp6UEtpVG0vWUEycXdFZ2dCTzRwUFlGQmpHUUFmakNZQU52V2hFTXFTZXNwRVVOVTBiRUxwTQoyMURpTGc1NUJ0aWsxdnduUldob2pkQ1hxei9NR01XZzAzM3Npelp0cGZtRVBWL3ZPTC9kT2hvTnRjMGtBR2dwCkpXNGlpeE0rQkg0ekVoZUdxL1ZrdEY2NG5kdDd3ZFI1d2x2ZmpTb0ZYYlBWNXhraERrZWgzNGZnSktvY3ZFNnYKTlZpZGFqTnJDVDJlQzlJQjhQRkNmbzBxeHB6T1BPdS9mRzFMVHZMWjYvZVpQSmJkRTZsYTJDbXRoMG92RE02Mgoyb0RpNExXb2FSOVFML1pyeENHWjVtK1VYbHh2U3pObEFVL0pVSmpjRnJQenMza2VMRGNWOXNDcW9YWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
              }
            ],
            "created_at": "2020-08-09 08:23:53 +0000 UTC",
            "enabled_cluster_log_types": [
              "api",
              "audit",
              "authenticator",
              "controllerManager",
              "scheduler"
            ],
            "endpoint": "https://6A47DEB29302EA87F282E49ACC17E9D7.sk1.eu-west-1.eks.amazonaws.com",
            "id": "eks-demo-prod",
            "identity": [
              {
                "oidc": [
                  {
                    "issuer": "https://oidc.eks.eu-west-1.amazonaws.com/id/6A47DEB29302EA87F282E49ACC17E9D7"
                  }
                ]
              }
            ],
            "name": "eks-demo-prod",
            "platform_version": "eks.1",
            "role_arn": "arn:aws:iam::903578915146:role/eks-demo-eks-cluster-role",
            "status": "ACTIVE",
            "tags": {},
            "version": "1.17",
            "vpc_config": [
              {
                "cluster_security_group_id": "sg-03eb5f282fbc3ef4e",
                "endpoint_private_access": false,
                "endpoint_public_access": true,
                "public_access_cidrs": [
                  "0.0.0.0/0"
                ],
                "security_group_ids": [],
                "subnet_ids": [
                  "subnet-004695555e8c18403",
                  "subnet-0257d64ea0bc90a04",
                  "subnet-0470f1e270ce83d1c",
                  "subnet-04f262222fda120a4",
                  "subnet-060c2a1d1f2cba39e",
                  "subnet-0d48e697e7f25e28f"
                ],
                "vpc_id": "vpc-0080ce198f8fc1bf8"
              }
            ]
          }
        }
      ]
    },
    {
      "module": "module.ingress",
      "mode": "data",
      "type": "aws_eks_cluster_auth",
      "name": "cluster",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2020-08-09 08:37:24.026477 +0000 UTC",
            "name": "eks-demo-prod",
            "token": "k8s-aws-v1.aHR0cHM6Ly9zdHMuYW1hem9uYXdzLmNvbS8_QWN0aW9uPUdldENhbGxlcklkZW50aXR5JlZlcnNpb249MjAxMS0wNi0xNSZYLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFJR01QR0NOQk1QQjUzWjNBJTJGMjAyMDA4MDklMkZ1cy1lYXN0LTElMkZzdHMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDIwMDgwOVQwODM3MjRaJlgtQW16LUV4cGlyZXM9MCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QlM0J4LWs4cy1hd3MtaWQmWC1BbXotU2lnbmF0dXJlPTk3MGRlYmFhNzQ0OTdiYTEyZTNhMzgyMDIzMzhjZWEyYzQ2ZTYxNDY0YWZkM2MwMGRiYzZiZGJlMzkyNzZlNWY"
          }
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "data",
      "type": "aws_eks_cluster_auth",
      "name": "cluster",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2020-08-09 08:37:24.02597 +0000 UTC",
            "name": "eks-demo-prod",
            "token": "k8s-aws-v1.aHR0cHM6Ly9zdHMuYW1hem9uYXdzLmNvbS8_QWN0aW9uPUdldENhbGxlcklkZW50aXR5JlZlcnNpb249MjAxMS0wNi0xNSZYLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFJR01QR0NOQk1QQjUzWjNBJTJGMjAyMDA4MDklMkZ1cy1lYXN0LTElMkZzdHMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDIwMDgwOVQwODM3MjRaJlgtQW16LUV4cGlyZXM9MCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QlM0J4LWs4cy1hd3MtaWQmWC1BbXotU2lnbmF0dXJlPTk3MGRlYmFhNzQ0OTdiYTEyZTNhMzgyMDIzMzhjZWEyYzQ2ZTYxNDY0YWZkM2MwMGRiYzZiZGJlMzkyNzZlNWY"
          }
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "data",
      "type": "external",
      "name": "thumbprint",
      "provider": "module.eks.provider.external",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "-",
            "program": [
              "eks/oidc_thumbprint.sh",
              "eu-west-1"
            ],
            "query": null,
            "result": {
              "thumbprint": "9e99a48a9960b14926bb7f3b02e22da2b0ab7280"
            },
            "working_dir": null
          }
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "data",
      "type": "template_file",
      "name": "kubeconfig",
      "provider": "module.eks.provider.template",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "96ecb4b636d122c8c731ab18c8bf1d9a3db1a43306ba4508060f8d1658852fbc",
            "rendered": "apiVersion: v1\npreferences: {}\nkind: Config\n\nclusters:\n- cluster:\n    server: https://6A47DEB29302EA87F282E49ACC17E9D7.sk1.eu-west-1.eks.amazonaws.com\n    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJd01EZ3dPVEE0TXpNeE4xb1hEVE13TURnd056QTRNek14TjFvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTTBUClQyTldUWXhnV1Rrb3hUYTA2STRwZldFVTFHUmttbjhyNjVqc0lENUVmOGRybm1yWlNoYkp1NHlodEdJeXZXMWwKdjdQWElycU8yeFdYYndJNXZEY1lOTU04YWpXUmtnVjhRWHlQOXBFZ2czZ0FmTHlOQU1iVEZVTkVRbUlzWCtKbgo2NzJzOUVPaTRVMXlVWkxkK0wvNHk0ZWx2U1FWZVdXdG9UWE8wZER2THJKQ1hibUU4UnluL2QyQ2pzc0ZHdWVHClo0eVJBM05QcE5FMXl2cVBlT1FoQ09RbkhKekdzY2w3czczL0VVek92NXRicDIvVFVFQVhDRC81ZCtRK0FXUEwKeHNLeUdlYXpiNGtvWmFhU1RpQTdTS09HcmVTV3V1SzNrbzRJNTNhb3RXWGtJdXB6Sm1EZzRaa0hDRFBEUnRRMQpvMFBQOSttL1ZSMkFkL0dHU21zQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFCNzgvR3M1NzZNWFN1ZDN3Nm12cW9zNWo0QkcKSWsyaVVjRHF3WHp6UEtpVG0vWUEycXdFZ2dCTzRwUFlGQmpHUUFmakNZQU52V2hFTXFTZXNwRVVOVTBiRUxwTQoyMURpTGc1NUJ0aWsxdnduUldob2pkQ1hxei9NR01XZzAzM3Npelp0cGZtRVBWL3ZPTC9kT2hvTnRjMGtBR2dwCkpXNGlpeE0rQkg0ekVoZUdxL1ZrdEY2NG5kdDd3ZFI1d2x2ZmpTb0ZYYlBWNXhraERrZWgzNGZnSktvY3ZFNnYKTlZpZGFqTnJDVDJlQzlJQjhQRkNmbzBxeHB6T1BPdS9mRzFMVHZMWjYvZVpQSmJkRTZsYTJDbXRoMG92RE02Mgoyb0RpNExXb2FSOVFML1pyeENHWjVtK1VYbHh2U3pObEFVL0pVSmpjRnJQenMza2VMRGNWOXNDcW9YWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=\n  name: eks_eks-demo-prod\n\ncontexts:\n- context:\n    cluster: eks_eks-demo-prod\n    user: eks_eks-demo-prod\n  name: eks_eks-demo-prod\n\ncurrent-context: eks_eks-demo-prod\n\nusers:\n- name: eks_eks-demo-prod\n  user:\n    exec:\n      apiVersion: client.authentication.k8s.io/v1alpha1\n      command: aws-iam-authenticator\n      args:\n        - \"token\"\n        - \"-i\"\n        - \"eks-demo-prod\"",
            "template": "apiVersion: v1\npreferences: {}\nkind: Config\n\nclusters:\n- cluster:\n    server: ${endpoint}\n    certificate-authority-data: ${cluster_auth_base64}\n  name: ${kubeconfig_name}\n\ncontexts:\n- context:\n    cluster: ${kubeconfig_name}\n    user: ${kubeconfig_name}\n  name: ${kubeconfig_name}\n\ncurrent-context: ${kubeconfig_name}\n\nusers:\n- name: ${kubeconfig_name}\n  user:\n    exec:\n      apiVersion: client.authentication.k8s.io/v1alpha1\n      command: aws-iam-authenticator\n      args:\n        - \"token\"\n        - \"-i\"\n        - \"${clustername}\"",
            "vars": {
              "cluster_auth_base64": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJd01EZ3dPVEE0TXpNeE4xb1hEVE13TURnd056QTRNek14TjFvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTTBUClQyTldUWXhnV1Rrb3hUYTA2STRwZldFVTFHUmttbjhyNjVqc0lENUVmOGRybm1yWlNoYkp1NHlodEdJeXZXMWwKdjdQWElycU8yeFdYYndJNXZEY1lOTU04YWpXUmtnVjhRWHlQOXBFZ2czZ0FmTHlOQU1iVEZVTkVRbUlzWCtKbgo2NzJzOUVPaTRVMXlVWkxkK0wvNHk0ZWx2U1FWZVdXdG9UWE8wZER2THJKQ1hibUU4UnluL2QyQ2pzc0ZHdWVHClo0eVJBM05QcE5FMXl2cVBlT1FoQ09RbkhKekdzY2w3czczL0VVek92NXRicDIvVFVFQVhDRC81ZCtRK0FXUEwKeHNLeUdlYXpiNGtvWmFhU1RpQTdTS09HcmVTV3V1SzNrbzRJNTNhb3RXWGtJdXB6Sm1EZzRaa0hDRFBEUnRRMQpvMFBQOSttL1ZSMkFkL0dHU21zQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFCNzgvR3M1NzZNWFN1ZDN3Nm12cW9zNWo0QkcKSWsyaVVjRHF3WHp6UEtpVG0vWUEycXdFZ2dCTzRwUFlGQmpHUUFmakNZQU52V2hFTXFTZXNwRVVOVTBiRUxwTQoyMURpTGc1NUJ0aWsxdnduUldob2pkQ1hxei9NR01XZzAzM3Npelp0cGZtRVBWL3ZPTC9kT2hvTnRjMGtBR2dwCkpXNGlpeE0rQkg0ekVoZUdxL1ZrdEY2NG5kdDd3ZFI1d2x2ZmpTb0ZYYlBWNXhraERrZWgzNGZnSktvY3ZFNnYKTlZpZGFqTnJDVDJlQzlJQjhQRkNmbzBxeHB6T1BPdS9mRzFMVHZMWjYvZVpQSmJkRTZsYTJDbXRoMG92RE02Mgoyb0RpNExXb2FSOVFML1pyeENHWjVtK1VYbHh2U3pObEFVL0pVSmpjRnJQenMza2VMRGNWOXNDcW9YWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=",
              "clustername": "eks-demo-prod",
              "endpoint": "https://6A47DEB29302EA87F282E49ACC17E9D7.sk1.eu-west-1.eks.amazonaws.com",
              "kubeconfig_name": "eks_eks-demo-prod"
            }
          }
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "eks_cluster",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:eu-west-1:903578915146:log-group:/aws/eks/eks-demo-prod/cluster:*",
            "id": "/aws/eks/eks-demo-prod/cluster",
            "kms_key_id": "",
            "name": "/aws/eks/eks-demo-prod/cluster",
            "name_prefix": null,
            "retention_in_days": 30,
            "tags": {
              "Environment": "prod",
              "Name": "eks-demo-prod-eks-cloudwatch-log-group"
            }
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "vpc",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:eu-west-1:903578915146:log-group:/aws/vpc/eks-demo-prod/flow:*",
            "id": "/aws/vpc/eks-demo-prod/flow",
            "kms_key_id": "",
            "name": "/aws/vpc/eks-demo-prod/flow",
            "name_prefix": null,
            "retention_in_days": 30,
            "tags": {
              "Environment": "prod",
              "Name": "eks-demo-prod-vpc-cloudwatch-log-group"
            }
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_eip",
      "name": "nat",
      "each": "list",
      "provider": "provider.aws",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "allocation_id": null,
            "associate_with_private_ip": null,
            "association_id": "",
            "customer_owned_ip": "",
            "customer_owned_ipv4_pool": "",
            "domain": "vpc",
            "id": "eipalloc-017c2cf8b1bba6c27",
            "instance": "",
            "network_interface": "",
            "private_dns": null,
            "private_ip": "",
            "public_dns": "ec2-54-78-203-29.eu-west-1.compute.amazonaws.com",
            "public_ip": "54.78.203.29",
            "public_ipv4_pool": "amazon",
            "tags": {
              "Environment": "prod",
              "Name": "eks-demo-prod-eip-001"
            },
            "timeouts": null,
            "vpc": true
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxODAwMDAwMDAwMDAsInJlYWQiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozMDAwMDAwMDAwMDB9fQ=="
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "allocation_id": null,
            "associate_with_private_ip": null,
            "association_id": "",
            "customer_owned_ip": "",
            "customer_owned_ipv4_pool": "",
            "domain": "vpc",
            "id": "eipalloc-04e38ee3c349de33f",
            "instance": "",
            "network_interface": "",
            "private_dns": null,
            "private_ip": "",
            "public_dns": "ec2-63-35-23-228.eu-west-1.compute.amazonaws.com",
            "public_ip": "63.35.23.228",
            "public_ipv4_pool": "amazon",
            "tags": {
              "Environment": "prod",
              "Name": "eks-demo-prod-eip-002"
            },
            "timeouts": null,
            "vpc": true
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxODAwMDAwMDAwMDAsInJlYWQiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozMDAwMDAwMDAwMDB9fQ=="
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "allocation_id": null,
            "associate_with_private_ip": null,
            "association_id": "",
            "customer_owned_ip": "",
            "customer_owned_ipv4_pool": "",
            "domain": "vpc",
            "id": "eipalloc-0cf9940521ca42ca1",
            "instance": "",
            "network_interface": "",
            "private_dns": null,
            "private_ip": "",
            "public_dns": "ec2-54-78-203-192.eu-west-1.compute.amazonaws.com",
            "public_ip": "54.78.203.192",
            "public_ipv4_pool": "amazon",
            "tags": {
              "Environment": "prod",
              "Name": "eks-demo-prod-eip-003"
            },
            "timeouts": null,
            "vpc": true
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxODAwMDAwMDAwMDAsInJlYWQiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozMDAwMDAwMDAwMDB9fQ=="
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_eks_cluster",
      "name": "main",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:eks:eu-west-1:903578915146:cluster/eks-demo-prod",
            "certificate_authority": [
              {
                "data": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJd01EZ3dPVEE0TXpNeE4xb1hEVE13TURnd056QTRNek14TjFvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTTBUClQyTldUWXhnV1Rrb3hUYTA2STRwZldFVTFHUmttbjhyNjVqc0lENUVmOGRybm1yWlNoYkp1NHlodEdJeXZXMWwKdjdQWElycU8yeFdYYndJNXZEY1lOTU04YWpXUmtnVjhRWHlQOXBFZ2czZ0FmTHlOQU1iVEZVTkVRbUlzWCtKbgo2NzJzOUVPaTRVMXlVWkxkK0wvNHk0ZWx2U1FWZVdXdG9UWE8wZER2THJKQ1hibUU4UnluL2QyQ2pzc0ZHdWVHClo0eVJBM05QcE5FMXl2cVBlT1FoQ09RbkhKekdzY2w3czczL0VVek92NXRicDIvVFVFQVhDRC81ZCtRK0FXUEwKeHNLeUdlYXpiNGtvWmFhU1RpQTdTS09HcmVTV3V1SzNrbzRJNTNhb3RXWGtJdXB6Sm1EZzRaa0hDRFBEUnRRMQpvMFBQOSttL1ZSMkFkL0dHU21zQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFCNzgvR3M1NzZNWFN1ZDN3Nm12cW9zNWo0QkcKSWsyaVVjRHF3WHp6UEtpVG0vWUEycXdFZ2dCTzRwUFlGQmpHUUFmakNZQU52V2hFTXFTZXNwRVVOVTBiRUxwTQoyMURpTGc1NUJ0aWsxdnduUldob2pkQ1hxei9NR01XZzAzM3Npelp0cGZtRVBWL3ZPTC9kT2hvTnRjMGtBR2dwCkpXNGlpeE0rQkg0ekVoZUdxL1ZrdEY2NG5kdDd3ZFI1d2x2ZmpTb0ZYYlBWNXhraERrZWgzNGZnSktvY3ZFNnYKTlZpZGFqTnJDVDJlQzlJQjhQRkNmbzBxeHB6T1BPdS9mRzFMVHZMWjYvZVpQSmJkRTZsYTJDbXRoMG92RE02Mgoyb0RpNExXb2FSOVFML1pyeENHWjVtK1VYbHh2U3pObEFVL0pVSmpjRnJQenMza2VMRGNWOXNDcW9YWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
              }
            ],
            "created_at": "2020-08-09 08:23:53 +0000 UTC",
            "enabled_cluster_log_types": [
              "api",
              "audit",
              "authenticator",
              "controllerManager",
              "scheduler"
            ],
            "encryption_config": [],
            "endpoint": "https://6A47DEB29302EA87F282E49ACC17E9D7.sk1.eu-west-1.eks.amazonaws.com",
            "id": "eks-demo-prod",
            "identity": [
              {
                "oidc": [
                  {
                    "issuer": "https://oidc.eks.eu-west-1.amazonaws.com/id/6A47DEB29302EA87F282E49ACC17E9D7"
                  }
                ]
              }
            ],
            "name": "eks-demo-prod",
            "platform_version": "eks.1",
            "role_arn": "arn:aws:iam::903578915146:role/eks-demo-eks-cluster-role",
            "status": "ACTIVE",
            "tags": null,
            "timeouts": {
              "create": null,
              "delete": "30m",
              "update": null
            },
            "version": "1.17",
            "vpc_config": [
              {
                "cluster_security_group_id": "sg-03eb5f282fbc3ef4e",
                "endpoint_private_access": false,
                "endpoint_public_access": true,
                "public_access_cidrs": [
                  "0.0.0.0/0"
                ],
                "security_group_ids": null,
                "subnet_ids": [
                  "subnet-004695555e8c18403",
                  "subnet-0257d64ea0bc90a04",
                  "subnet-0470f1e270ce83d1c",
                  "subnet-04f262222fda120a4",
                  "subnet-060c2a1d1f2cba39e",
                  "subnet-0d48e697e7f25e28f"
                ],
                "vpc_id": "vpc-0080ce198f8fc1bf8"
              }
            ]
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInVwZGF0ZSI6MzYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.eks.aws_cloudwatch_log_group.eks_cluster",
            "module.eks.aws_iam_role.eks_cluster_role",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSClusterPolicy",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSServicePolicy",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_eks_fargate_profile",
      "name": "main",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:eks:eu-west-1:903578915146:fargateprofile/eks-demo-prod/fp-default/fab9e92f-5854-e4c3-8e8a-84c7b67070e9",
            "cluster_name": "eks-demo-prod",
            "fargate_profile_name": "fp-default",
            "id": "eks-demo-prod:fp-default",
            "pod_execution_role_arn": "arn:aws:iam::903578915146:role/eks-demo-eks-fargate-pod-execution-role",
            "selector": [
              {
                "labels": null,
                "namespace": "2048-game"
              },
              {
                "labels": null,
                "namespace": "default"
              }
            ],
            "status": "ACTIVE",
            "subnet_ids": [
              "subnet-04f262222fda120a4",
              "subnet-060c2a1d1f2cba39e",
              "subnet-0d48e697e7f25e28f"
            ],
            "tags": null,
            "timeouts": {
              "create": "30m",
              "delete": "60m"
            }
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.eks.aws_cloudwatch_log_group.eks_cluster",
            "module.eks.aws_eks_cluster.main",
            "module.eks.aws_iam_role.eks_cluster_role",
            "module.eks.aws_iam_role.fargate_pod_execution_role",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSClusterPolicy",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSServicePolicy",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_eks_node_group",
      "name": "main",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "ami_type": "AL2_x86_64",
            "arn": "arn:aws:eks:eu-west-1:903578915146:nodegroup/eks-demo-prod/kube-system/16b9e92f-5861-322b-d8e2-15bc483731a6",
            "cluster_name": "eks-demo-prod",
            "disk_size": 20,
            "force_update_version": null,
            "id": "eks-demo-prod:kube-system",
            "instance_types": [
              "t2.micro"
            ],
            "labels": null,
            "node_group_name": "kube-system",
            "node_role_arn": "arn:aws:iam::903578915146:role/eks-demo-eks-node-group-role",
            "release_version": "1.17.9-20200723",
            "remote_access": [],
            "resources": [
              {
                "autoscaling_groups": [
                  {
                    "name": "eks-16b9e92f-5861-322b-d8e2-15bc483731a6"
                  }
                ],
                "remote_access_security_group_id": ""
              }
            ],
            "scaling_config": [
              {
                "desired_size": 2,
                "max_size": 4,
                "min_size": 2
              }
            ],
            "status": "ACTIVE",
            "subnet_ids": [
              "subnet-04f262222fda120a4",
              "subnet-060c2a1d1f2cba39e",
              "subnet-0d48e697e7f25e28f"
            ],
            "tags": {
              "Environment": "prod",
              "Name": "eks-demo-prod-eks-node-group"
            },
            "timeouts": null,
            "version": "1.17"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInVwZGF0ZSI6MzYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.eks.aws_cloudwatch_log_group.eks_cluster",
            "module.eks.aws_eks_cluster.main",
            "module.eks.aws_iam_role.eks_cluster_role",
            "module.eks.aws_iam_role.eks_node_group_role",
            "module.eks.aws_iam_role_policy_attachment.AmazonEC2ContainerRegistryReadOnly",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSClusterPolicy",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSServicePolicy",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSWorkerNodePolicy",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKS_CNI_Policy",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_flow_log",
      "name": "main",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:903578915146:vpc-flow-log/fl-0f6bfab18e69d2593",
            "eni_id": null,
            "iam_role_arn": "arn:aws:iam::903578915146:role/eks-demo-prod-vpc-flow-logs-role",
            "id": "fl-0f6bfab18e69d2593",
            "log_destination": "arn:aws:logs:eu-west-1:903578915146:log-group:/aws/vpc/eks-demo-prod/flow",
            "log_destination_type": "cloud-watch-logs",
            "log_format": "${version} ${account-id} ${interface-id} ${srcaddr} ${dstaddr} ${srcport} ${dstport} ${protocol} ${packets} ${bytes} ${start} ${end} ${action} ${log-status}",
            "log_group_name": "/aws/vpc/eks-demo-prod/flow",
            "max_aggregation_interval": 600,
            "subnet_id": null,
            "tags": null,
            "traffic_type": "ALL",
            "vpc_id": "vpc-0080ce198f8fc1bf8"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_cloudwatch_log_group.vpc",
            "module.vpc.aws_iam_role.vpc-flow-logs-role",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_iam_openid_connect_provider",
      "name": "main",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::903578915146:oidc-provider/oidc.eks.eu-west-1.amazonaws.com/id/6A47DEB29302EA87F282E49ACC17E9D7",
            "client_id_list": [
              "sts.amazonaws.com"
            ],
            "id": "arn:aws:iam::903578915146:oidc-provider/oidc.eks.eu-west-1.amazonaws.com/id/6A47DEB29302EA87F282E49ACC17E9D7",
            "thumbprint_list": [
              "9e99a48a9960b14926bb7f3b02e22da2b0ab7280"
            ],
            "url": "oidc.eks.eu-west-1.amazonaws.com/id/6A47DEB29302EA87F282E49ACC17E9D7"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks.aws_cloudwatch_log_group.eks_cluster",
            "module.eks.aws_eks_cluster.main",
            "module.eks.aws_iam_role.eks_cluster_role",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSClusterPolicy",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSServicePolicy",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.ingress",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "ALBIngressControllerIAMPolicy",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::903578915146:policy/ALBIngressControllerIAMPolicy",
            "description": "",
            "id": "arn:aws:iam::903578915146:policy/ALBIngressControllerIAMPolicy",
            "name": "ALBIngressControllerIAMPolicy",
            "name_prefix": null,
            "path": "/",
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"acm:DescribeCertificate\",\n        \"acm:ListCertificates\",\n        \"acm:GetCertificate\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:AuthorizeSecurityGroupIngress\",\n        \"ec2:CreateSecurityGroup\",\n        \"ec2:CreateTags\",\n        \"ec2:DeleteTags\",\n        \"ec2:DeleteSecurityGroup\",\n        \"ec2:DescribeAccountAttributes\",\n        \"ec2:DescribeAddresses\",\n        \"ec2:DescribeInstances\",\n        \"ec2:DescribeInstanceStatus\",\n        \"ec2:DescribeInternetGateways\",\n        \"ec2:DescribeNetworkInterfaces\",\n        \"ec2:DescribeSecurityGroups\",\n        \"ec2:DescribeSubnets\",\n        \"ec2:DescribeTags\",\n        \"ec2:DescribeVpcs\",\n        \"ec2:ModifyInstanceAttribute\",\n        \"ec2:ModifyNetworkInterfaceAttribute\",\n        \"ec2:RevokeSecurityGroupIngress\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"elasticloadbalancing:AddListenerCertificates\",\n        \"elasticloadbalancing:AddTags\",\n        \"elasticloadbalancing:CreateListener\",\n        \"elasticloadbalancing:CreateLoadBalancer\",\n        \"elasticloadbalancing:CreateRule\",\n        \"elasticloadbalancing:CreateTargetGroup\",\n        \"elasticloadbalancing:DeleteListener\",\n        \"elasticloadbalancing:DeleteLoadBalancer\",\n        \"elasticloadbalancing:DeleteRule\",\n        \"elasticloadbalancing:DeleteTargetGroup\",\n        \"elasticloadbalancing:DeregisterTargets\",\n        \"elasticloadbalancing:DescribeListenerCertificates\",\n        \"elasticloadbalancing:DescribeListeners\",\n        \"elasticloadbalancing:DescribeLoadBalancers\",\n        \"elasticloadbalancing:DescribeLoadBalancerAttributes\",\n        \"elasticloadbalancing:DescribeRules\",\n        \"elasticloadbalancing:DescribeSSLPolicies\",\n        \"elasticloadbalancing:DescribeTags\",\n        \"elasticloadbalancing:DescribeTargetGroups\",\n        \"elasticloadbalancing:DescribeTargetGroupAttributes\",\n        \"elasticloadbalancing:DescribeTargetHealth\",\n        \"elasticloadbalancing:ModifyListener\",\n        \"elasticloadbalancing:ModifyLoadBalancerAttributes\",\n        \"elasticloadbalancing:ModifyRule\",\n        \"elasticloadbalancing:ModifyTargetGroup\",\n        \"elasticloadbalancing:ModifyTargetGroupAttributes\",\n        \"elasticloadbalancing:RegisterTargets\",\n        \"elasticloadbalancing:RemoveListenerCertificates\",\n        \"elasticloadbalancing:RemoveTags\",\n        \"elasticloadbalancing:SetIpAddressType\",\n        \"elasticloadbalancing:SetSecurityGroups\",\n        \"elasticloadbalancing:SetSubnets\",\n        \"elasticloadbalancing:SetWebACL\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"iam:CreateServiceLinkedRole\",\n        \"iam:GetServerCertificate\",\n        \"iam:ListServerCertificates\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"cognito-idp:DescribeUserPoolClient\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"waf-regional:GetWebACLForResource\",\n        \"waf-regional:GetWebACL\",\n        \"waf-regional:AssociateWebACL\",\n        \"waf-regional:DisassociateWebACL\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"tag:GetResources\",\n        \"tag:TagResources\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"waf:GetWebACL\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}\n"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "AmazonEKSClusterCloudWatchMetricsPolicy",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::903578915146:policy/AmazonEKSClusterCloudWatchMetricsPolicy",
            "description": "",
            "id": "arn:aws:iam::903578915146:policy/AmazonEKSClusterCloudWatchMetricsPolicy",
            "name": "AmazonEKSClusterCloudWatchMetricsPolicy",
            "name_prefix": null,
            "path": "/",
            "policy": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Action\": [\n                \"cloudwatch:PutMetricData\"\n            ],\n            \"Resource\": \"*\",\n            \"Effect\": \"Allow\"\n        }\n    ]\n}\n"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "AmazonEKSClusterNLBPolicy",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::903578915146:policy/AmazonEKSClusterNLBPolicy",
            "description": "",
            "id": "arn:aws:iam::903578915146:policy/AmazonEKSClusterNLBPolicy",
            "name": "AmazonEKSClusterNLBPolicy",
            "name_prefix": null,
            "path": "/",
            "policy": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Action\": [\n                \"elasticloadbalancing:*\",\n                \"ec2:CreateSecurityGroup\",\n                \"ec2:Describe*\"\n            ],\n            \"Resource\": \"*\",\n            \"Effect\": \"Allow\"\n        }\n    ]\n}\n"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.ingress",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "eks_alb_ingress_controller",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::903578915146:role/eks-alb-ingress-controller",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Federated\":\"arn:aws:iam::903578915146:oidc-provider/oidc.eks.eu-west-1.amazonaws.com/id/6A47DEB29302EA87F282E49ACC17E9D7\"},\"Action\":\"sts:AssumeRoleWithWebIdentity\",\"Condition\":{\"StringEquals\":{\"oidc.eks.eu-west-1.amazonaws.com/id/6A47DEB29302EA87F282E49ACC17E9D7:sub\":\"system:serviceaccount:kube-system:alb-ingress-controller\"}}}]}",
            "create_date": "2020-08-09T08:38:08Z",
            "description": "Permissions required by the Kubernetes AWS ALB Ingress controller to do it's job.",
            "force_detach_policies": true,
            "id": "eks-alb-ingress-controller",
            "max_session_duration": 3600,
            "name": "eks-alb-ingress-controller",
            "name_prefix": null,
            "path": "/",
            "permissions_boundary": null,
            "tags": null,
            "unique_id": "AROA5EYMACFFLQYNKOIWD"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks.aws_cloudwatch_log_group.eks_cluster",
            "module.eks.aws_eks_cluster.main",
            "module.eks.aws_iam_role.eks_cluster_role",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSClusterPolicy",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSServicePolicy",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "eks_cluster_role",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::903578915146:role/eks-demo-eks-cluster-role",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"eks.amazonaws.com\",\"eks-fargate-pods.amazonaws.com\"]},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2020-08-09T08:23:48Z",
            "description": "",
            "force_detach_policies": true,
            "id": "eks-demo-eks-cluster-role",
            "max_session_duration": 3600,
            "name": "eks-demo-eks-cluster-role",
            "name_prefix": null,
            "path": "/",
            "permissions_boundary": null,
            "tags": null,
            "unique_id": "AROA5EYMACFFP3ZUVRQSH"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "eks_node_group_role",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::903578915146:role/eks-demo-eks-node-group-role",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2020-08-09T08:23:48Z",
            "description": "",
            "force_detach_policies": true,
            "id": "eks-demo-eks-node-group-role",
            "max_session_duration": 3600,
            "name": "eks-demo-eks-node-group-role",
            "name_prefix": null,
            "path": "/",
            "permissions_boundary": null,
            "tags": null,
            "unique_id": "AROA5EYMACFFCRSI4QHSL"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "fargate_pod_execution_role",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::903578915146:role/eks-demo-eks-fargate-pod-execution-role",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":[\"eks.amazonaws.com\",\"eks-fargate-pods.amazonaws.com\"]},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2020-08-09T08:23:48Z",
            "description": "",
            "force_detach_policies": true,
            "id": "eks-demo-eks-fargate-pod-execution-role",
            "max_session_duration": 3600,
            "name": "eks-demo-eks-fargate-pod-execution-role",
            "name_prefix": null,
            "path": "/",
            "permissions_boundary": null,
            "tags": null,
            "unique_id": "AROA5EYMACFFANXMWSYDU"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "vpc-flow-logs-role",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::903578915146:role/eks-demo-prod-vpc-flow-logs-role",
            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"vpc-flow-logs.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
            "create_date": "2020-08-09T08:23:48Z",
            "description": "",
            "force_detach_policies": false,
            "id": "eks-demo-prod-vpc-flow-logs-role",
            "max_session_duration": 3600,
            "name": "eks-demo-prod-vpc-flow-logs-role",
            "name_prefix": null,
            "path": "/",
            "permissions_boundary": null,
            "tags": null,
            "unique_id": "AROA5EYMACFFBX2SWZBUZ"
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "vpc-flow-logs-policy",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "eks-demo-prod-vpc-flow-logs-role:eks-demo-prod-vpc-flow-logs-policy",
            "name": "eks-demo-prod-vpc-flow-logs-policy",
            "name_prefix": null,
            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Action\": [\n        \"logs:CreateLogGroup\",\n        \"logs:CreateLogStream\",\n        \"logs:PutLogEvents\",\n        \"logs:DescribeLogGroups\",\n        \"logs:DescribeLogStreams\"\n      ],\n      \"Effect\": \"Allow\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n",
            "role": "eks-demo-prod-vpc-flow-logs-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_iam_role.vpc-flow-logs-role"
          ]
        }
      ]
    },
    {
      "module": "module.ingress",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "ALBIngressControllerIAMPolicy",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "eks-alb-ingress-controller-2020080908372573720000000b",
            "policy_arn": "arn:aws:iam::903578915146:policy/ALBIngressControllerIAMPolicy",
            "role": "eks-alb-ingress-controller"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks.aws_cloudwatch_log_group.eks_cluster",
            "module.eks.aws_eks_cluster.main",
            "module.eks.aws_iam_role.eks_cluster_role",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSClusterPolicy",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSServicePolicy",
            "module.ingress.aws_iam_policy.ALBIngressControllerIAMPolicy",
            "module.ingress.aws_iam_role.eks_alb_ingress_controller",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "AmazonEC2ContainerRegistryReadOnly",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "eks-demo-eks-node-group-role-20200809082306003000000003",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly",
            "role": "eks-demo-eks-node-group-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks.aws_iam_role.eks_node_group_role"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "AmazonEKSCloudWatchMetricsPolicy",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "eks-demo-eks-cluster-role-20200809082306487000000007",
            "policy_arn": "arn:aws:iam::903578915146:policy/AmazonEKSClusterCloudWatchMetricsPolicy",
            "role": "eks-demo-eks-cluster-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks.aws_iam_policy.AmazonEKSClusterCloudWatchMetricsPolicy",
            "module.eks.aws_iam_role.eks_cluster_role"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "AmazonEKSCluserNLBPolicy",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "eks-demo-eks-cluster-role-20200809082306919500000008",
            "policy_arn": "arn:aws:iam::903578915146:policy/AmazonEKSClusterNLBPolicy",
            "role": "eks-demo-eks-cluster-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks.aws_iam_policy.AmazonEKSClusterNLBPolicy",
            "module.eks.aws_iam_role.eks_cluster_role"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "AmazonEKSClusterPolicy",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "eks-demo-eks-cluster-role-20200809082306340800000005",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSClusterPolicy",
            "role": "eks-demo-eks-cluster-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks.aws_iam_role.eks_cluster_role"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "AmazonEKSFargatePodExecutionRolePolicy",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "eks-demo-eks-fargate-pod-execution-role-20200809082306308400000004",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSFargatePodExecutionRolePolicy",
            "role": "eks-demo-eks-fargate-pod-execution-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks.aws_iam_role.fargate_pod_execution_role"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "AmazonEKSServicePolicy",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "eks-demo-eks-cluster-role-20200809082306389300000006",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSServicePolicy",
            "role": "eks-demo-eks-cluster-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks.aws_iam_role.eks_cluster_role"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "AmazonEKSWorkerNodePolicy",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "eks-demo-eks-node-group-role-20200809082305930200000001",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy",
            "role": "eks-demo-eks-node-group-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks.aws_iam_role.eks_node_group_role"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "AmazonEKS_CNI_Policy",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "eks-demo-eks-node-group-role-20200809082305961600000002",
            "policy_arn": "arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy",
            "role": "eks-demo-eks-node-group-role"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks.aws_iam_role.eks_node_group_role"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_internet_gateway",
      "name": "main",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:903578915146:internet-gateway/igw-08232eea406f9ff5d",
            "id": "igw-08232eea406f9ff5d",
            "owner_id": "903578915146",
            "tags": {
              "Environment": "prod",
              "Name": "eks-demo-prod-igw"
            },
            "vpc_id": "vpc-0080ce198f8fc1bf8"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_nat_gateway",
      "name": "main",
      "each": "list",
      "provider": "provider.aws",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "allocation_id": "eipalloc-017c2cf8b1bba6c27",
            "id": "nat-0fee0a69ef77c3a87",
            "network_interface_id": "eni-0928a33aa93e33a73",
            "private_ip": "10.0.26.21",
            "public_ip": "54.78.203.29",
            "subnet_id": "subnet-0470f1e270ce83d1c",
            "tags": {
              "Environment": "prod",
              "Name": "eks-demo-prod-nat-001"
            }
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_eip.nat",
            "module.vpc.aws_internet_gateway.main",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "allocation_id": "eipalloc-04e38ee3c349de33f",
            "id": "nat-0172baf89bad30cc5",
            "network_interface_id": "eni-0dd848b0d9c11ebe0",
            "private_ip": "10.0.62.150",
            "public_ip": "63.35.23.228",
            "subnet_id": "subnet-004695555e8c18403",
            "tags": {
              "Environment": "prod",
              "Name": "eks-demo-prod-nat-002"
            }
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_eip.nat",
            "module.vpc.aws_internet_gateway.main",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "allocation_id": "eipalloc-0cf9940521ca42ca1",
            "id": "nat-0ed8928f39120e6f5",
            "network_interface_id": "eni-0341828017ef0cbc5",
            "private_ip": "10.0.82.178",
            "public_ip": "54.78.203.192",
            "subnet_id": "subnet-0257d64ea0bc90a04",
            "tags": {
              "Environment": "prod",
              "Name": "eks-demo-prod-nat-003"
            }
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_eip.nat",
            "module.vpc.aws_internet_gateway.main",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route",
      "name": "private",
      "each": "list",
      "provider": "provider.aws",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "destination_cidr_block": "0.0.0.0/0",
            "destination_ipv6_cidr_block": "",
            "destination_prefix_list_id": "",
            "egress_only_gateway_id": "",
            "gateway_id": "",
            "id": "r-rtb-00b4af7b27cd26eb61080289494",
            "instance_id": "",
            "instance_owner_id": "",
            "nat_gateway_id": "nat-0fee0a69ef77c3a87",
            "network_interface_id": "",
            "origin": "CreateRoute",
            "route_table_id": "rtb-00b4af7b27cd26eb6",
            "state": "active",
            "timeouts": null,
            "transit_gateway_id": "",
            "vpc_peering_connection_id": ""
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "module.vpc.aws_eip.nat",
            "module.vpc.aws_internet_gateway.main",
            "module.vpc.aws_nat_gateway.main",
            "module.vpc.aws_route_table.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "destination_cidr_block": "0.0.0.0/0",
            "destination_ipv6_cidr_block": "",
            "destination_prefix_list_id": "",
            "egress_only_gateway_id": "",
            "gateway_id": "",
            "id": "r-rtb-02b0fe0c1170b11f01080289494",
            "instance_id": "",
            "instance_owner_id": "",
            "nat_gateway_id": "nat-0172baf89bad30cc5",
            "network_interface_id": "",
            "origin": "CreateRoute",
            "route_table_id": "rtb-02b0fe0c1170b11f0",
            "state": "active",
            "timeouts": null,
            "transit_gateway_id": "",
            "vpc_peering_connection_id": ""
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "module.vpc.aws_eip.nat",
            "module.vpc.aws_internet_gateway.main",
            "module.vpc.aws_nat_gateway.main",
            "module.vpc.aws_route_table.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "destination_cidr_block": "0.0.0.0/0",
            "destination_ipv6_cidr_block": "",
            "destination_prefix_list_id": "",
            "egress_only_gateway_id": "",
            "gateway_id": "",
            "id": "r-rtb-0a58647581665d3d41080289494",
            "instance_id": "",
            "instance_owner_id": "",
            "nat_gateway_id": "nat-0ed8928f39120e6f5",
            "network_interface_id": "",
            "origin": "CreateRoute",
            "route_table_id": "rtb-0a58647581665d3d4",
            "state": "active",
            "timeouts": null,
            "transit_gateway_id": "",
            "vpc_peering_connection_id": ""
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "module.vpc.aws_eip.nat",
            "module.vpc.aws_internet_gateway.main",
            "module.vpc.aws_nat_gateway.main",
            "module.vpc.aws_route_table.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route",
      "name": "public",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "destination_cidr_block": "0.0.0.0/0",
            "destination_ipv6_cidr_block": "",
            "destination_prefix_list_id": "",
            "egress_only_gateway_id": "",
            "gateway_id": "igw-08232eea406f9ff5d",
            "id": "r-rtb-06c921abfdc322ba01080289494",
            "instance_id": "",
            "instance_owner_id": "",
            "nat_gateway_id": "",
            "network_interface_id": "",
            "origin": "CreateRoute",
            "route_table_id": "rtb-06c921abfdc322ba0",
            "state": "active",
            "timeouts": null,
            "transit_gateway_id": "",
            "vpc_peering_connection_id": ""
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "module.vpc.aws_internet_gateway.main",
            "module.vpc.aws_route_table.public",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "private",
      "each": "list",
      "provider": "provider.aws",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "rtb-00b4af7b27cd26eb6",
            "owner_id": "903578915146",
            "propagating_vgws": [],
            "route": [],
            "tags": {
              "Environment": "prod",
              "Name": "eks-demo-prod-routing-table-private-001"
            },
            "vpc_id": "vpc-0080ce198f8fc1bf8"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_vpc.main"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "id": "rtb-02b0fe0c1170b11f0",
            "owner_id": "903578915146",
            "propagating_vgws": [],
            "route": [],
            "tags": {
              "Environment": "prod",
              "Name": "eks-demo-prod-routing-table-private-002"
            },
            "vpc_id": "vpc-0080ce198f8fc1bf8"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_vpc.main"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "id": "rtb-0a58647581665d3d4",
            "owner_id": "903578915146",
            "propagating_vgws": [],
            "route": [],
            "tags": {
              "Environment": "prod",
              "Name": "eks-demo-prod-routing-table-private-003"
            },
            "vpc_id": "vpc-0080ce198f8fc1bf8"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table",
      "name": "public",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "rtb-06c921abfdc322ba0",
            "owner_id": "903578915146",
            "propagating_vgws": [],
            "route": [],
            "tags": {
              "Environment": "prod",
              "Name": "eks-demo-prod-routing-table-public"
            },
            "vpc_id": "vpc-0080ce198f8fc1bf8"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "private",
      "each": "list",
      "provider": "provider.aws",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-0f81ec403b89e2bfe",
            "route_table_id": "rtb-00b4af7b27cd26eb6",
            "subnet_id": "subnet-0d48e697e7f25e28f"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_route_table.private",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_vpc.main"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-0ddef8b30350e8ba4",
            "route_table_id": "rtb-02b0fe0c1170b11f0",
            "subnet_id": "subnet-04f262222fda120a4"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_route_table.private",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_vpc.main"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-08c675d1815b625a3",
            "route_table_id": "rtb-0a58647581665d3d4",
            "subnet_id": "subnet-060c2a1d1f2cba39e"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_route_table.private",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_route_table_association",
      "name": "public",
      "each": "list",
      "provider": "provider.aws",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-0f62c956bd0527ff3",
            "route_table_id": "rtb-06c921abfdc322ba0",
            "subnet_id": "subnet-0470f1e270ce83d1c"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_route_table.public",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-09fea60a638d14a60",
            "route_table_id": "rtb-06c921abfdc322ba0",
            "subnet_id": "subnet-004695555e8c18403"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_route_table.public",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 0,
          "attributes": {
            "gateway_id": null,
            "id": "rtbassoc-019122c1abce5ad53",
            "route_table_id": "rtb-06c921abfdc322ba0",
            "subnet_id": "subnet-0257d64ea0bc90a04"
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.vpc.aws_route_table.public",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "private",
      "each": "list",
      "provider": "provider.aws",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:903578915146:subnet/subnet-0d48e697e7f25e28f",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-1a",
            "availability_zone_id": "euw1-az1",
            "cidr_block": "10.0.0.0/20",
            "id": "subnet-0d48e697e7f25e28f",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "903578915146",
            "tags": {
              "Environment": "prod",
              "Name": "eks-demo-prod-private-subnet-001",
              "kubernetes.io/cluster/eks-demo-prod": "shared",
              "kubernetes.io/role/internal-elb": "1"
            },
            "timeouts": null,
            "vpc_id": "vpc-0080ce198f8fc1bf8"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.main"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:903578915146:subnet/subnet-04f262222fda120a4",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-1b",
            "availability_zone_id": "euw1-az2",
            "cidr_block": "10.0.32.0/20",
            "id": "subnet-04f262222fda120a4",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "903578915146",
            "tags": {
              "Environment": "prod",
              "Name": "eks-demo-prod-private-subnet-002",
              "kubernetes.io/cluster/eks-demo-prod": "shared",
              "kubernetes.io/role/internal-elb": "1"
            },
            "timeouts": null,
            "vpc_id": "vpc-0080ce198f8fc1bf8"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.main"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:903578915146:subnet/subnet-060c2a1d1f2cba39e",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-1c",
            "availability_zone_id": "euw1-az3",
            "cidr_block": "10.0.64.0/20",
            "id": "subnet-060c2a1d1f2cba39e",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": false,
            "outpost_arn": "",
            "owner_id": "903578915146",
            "tags": {
              "Environment": "prod",
              "Name": "eks-demo-prod-private-subnet-003",
              "kubernetes.io/cluster/eks-demo-prod": "shared",
              "kubernetes.io/role/internal-elb": "1"
            },
            "timeouts": null,
            "vpc_id": "vpc-0080ce198f8fc1bf8"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_subnet",
      "name": "public",
      "each": "list",
      "provider": "provider.aws",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:903578915146:subnet/subnet-0470f1e270ce83d1c",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-1a",
            "availability_zone_id": "euw1-az1",
            "cidr_block": "10.0.16.0/20",
            "id": "subnet-0470f1e270ce83d1c",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "903578915146",
            "tags": {
              "Environment": "prod",
              "Name": "eks-demo-prod-public-subnet-001",
              "kubernetes.io/cluster/eks-demo-prod": "shared",
              "kubernetes.io/role/elb": "1"
            },
            "timeouts": null,
            "vpc_id": "vpc-0080ce198f8fc1bf8"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.main"
          ]
        },
        {
          "index_key": 1,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:903578915146:subnet/subnet-004695555e8c18403",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-1b",
            "availability_zone_id": "euw1-az2",
            "cidr_block": "10.0.48.0/20",
            "id": "subnet-004695555e8c18403",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "903578915146",
            "tags": {
              "Environment": "prod",
              "Name": "eks-demo-prod-public-subnet-002",
              "kubernetes.io/cluster/eks-demo-prod": "shared",
              "kubernetes.io/role/elb": "1"
            },
            "timeouts": null,
            "vpc_id": "vpc-0080ce198f8fc1bf8"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.main"
          ]
        },
        {
          "index_key": 2,
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:903578915146:subnet/subnet-0257d64ea0bc90a04",
            "assign_ipv6_address_on_creation": false,
            "availability_zone": "eu-west-1c",
            "availability_zone_id": "euw1-az3",
            "cidr_block": "10.0.80.0/20",
            "id": "subnet-0257d64ea0bc90a04",
            "ipv6_cidr_block": "",
            "ipv6_cidr_block_association_id": "",
            "map_public_ip_on_launch": true,
            "outpost_arn": "",
            "owner_id": "903578915146",
            "tags": {
              "Environment": "prod",
              "Name": "eks-demo-prod-public-subnet-003",
              "kubernetes.io/cluster/eks-demo-prod": "shared",
              "kubernetes.io/role/elb": "1"
            },
            "timeouts": null,
            "vpc_id": "vpc-0080ce198f8fc1bf8"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9",
          "dependencies": [
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.vpc",
      "mode": "managed",
      "type": "aws_vpc",
      "name": "main",
      "provider": "provider.aws",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "arn": "arn:aws:ec2:eu-west-1:903578915146:vpc/vpc-0080ce198f8fc1bf8",
            "assign_generated_ipv6_cidr_block": false,
            "cidr_block": "10.0.0.0/16",
            "default_network_acl_id": "acl-08d73bf2b90739bed",
            "default_route_table_id": "rtb-0ab0c686c38be6033",
            "default_security_group_id": "sg-0a9ae95d6e0b886b8",
            "dhcp_options_id": "dopt-0b21156d",
            "enable_classiclink": false,
            "enable_classiclink_dns_support": false,
            "enable_dns_hostnames": true,
            "enable_dns_support": true,
            "id": "vpc-0080ce198f8fc1bf8",
            "instance_tenancy": "default",
            "ipv6_association_id": "",
            "ipv6_cidr_block": "",
            "main_route_table_id": "rtb-0ab0c686c38be6033",
            "owner_id": "903578915146",
            "tags": {
              "Environment": "prod",
              "Name": "eks-demo-prod-vpc",
              "kubernetes.io/cluster/eks-demo-prod": "shared"
            }
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "module": "module.ingress",
      "mode": "managed",
      "type": "kubernetes_cluster_role",
      "name": "ingress",
      "provider": "module.ingress.provider.kubernetes",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "alb-ingress-controller",
            "metadata": [
              {
                "annotations": null,
                "generation": 0,
                "labels": {
                  "app.kubernetes.io/managed-by": "terraform",
                  "app.kubernetes.io/name": "alb-ingress-controller"
                },
                "name": "alb-ingress-controller",
                "resource_version": "712",
                "self_link": "/apis/rbac.authorization.k8s.io/v1/clusterroles/alb-ingress-controller",
                "uid": "56773822-ff6a-4992-bcbb-1c584abefbf1"
              }
            ],
            "rule": [
              {
                "api_groups": [
                  "",
                  "extensions"
                ],
                "non_resource_urls": null,
                "resource_names": null,
                "resources": [
                  "configmaps",
                  "endpoints",
                  "events",
                  "ingresses",
                  "ingresses/status",
                  "services"
                ],
                "verbs": [
                  "create",
                  "get",
                  "list",
                  "update",
                  "watch",
                  "patch"
                ]
              },
              {
                "api_groups": [
                  "",
                  "extensions"
                ],
                "non_resource_urls": null,
                "resource_names": null,
                "resources": [
                  "nodes",
                  "pods",
                  "secrets",
                  "services",
                  "namespaces"
                ],
                "verbs": [
                  "get",
                  "list",
                  "watch"
                ]
              }
            ]
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks.aws_cloudwatch_log_group.eks_cluster",
            "module.eks.aws_eks_cluster.main",
            "module.eks.aws_iam_role.eks_cluster_role",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSClusterPolicy",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSServicePolicy",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.ingress",
      "mode": "managed",
      "type": "kubernetes_cluster_role_binding",
      "name": "ingress",
      "provider": "module.ingress.provider.kubernetes",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "alb-ingress-controller",
            "metadata": [
              {
                "annotations": null,
                "generation": 0,
                "labels": {
                  "app.kubernetes.io/managed-by": "terraform",
                  "app.kubernetes.io/name": "alb-ingress-controller"
                },
                "name": "alb-ingress-controller",
                "resource_version": "718",
                "self_link": "/apis/rbac.authorization.k8s.io/v1/clusterrolebindings/alb-ingress-controller",
                "uid": "872127e4-4fb8-4453-adda-580583664539"
              }
            ],
            "role_ref": [
              {
                "api_group": "rbac.authorization.k8s.io",
                "kind": "ClusterRole",
                "name": "alb-ingress-controller"
              }
            ],
            "subject": [
              {
                "api_group": "",
                "kind": "ServiceAccount",
                "name": "alb-ingress-controller",
                "namespace": "kube-system"
              }
            ]
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks.aws_cloudwatch_log_group.eks_cluster",
            "module.eks.aws_eks_cluster.main",
            "module.eks.aws_iam_role.eks_cluster_role",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSClusterPolicy",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSServicePolicy",
            "module.ingress.aws_iam_role.eks_alb_ingress_controller",
            "module.ingress.kubernetes_cluster_role.ingress",
            "module.ingress.kubernetes_service_account.ingress",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "kubernetes_deployment",
      "name": "app",
      "provider": "module.eks.provider.kubernetes",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2048-game/deployment-2048",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 1,
                "labels": {
                  "app": "2048"
                },
                "name": "deployment-2048",
                "namespace": "2048-game",
                "resource_version": "1565",
                "self_link": "/apis/apps/v1/namespaces/2048-game/deployments/deployment-2048",
                "uid": "adae1169-c0ee-41e9-8331-714bc7c163d2"
              }
            ],
            "spec": [
              {
                "min_ready_seconds": 0,
                "paused": false,
                "progress_deadline_seconds": 600,
                "replicas": 2,
                "revision_history_limit": 10,
                "selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "app": "2048"
                    }
                  }
                ],
                "strategy": [
                  {
                    "rolling_update": [
                      {
                        "max_surge": "25%",
                        "max_unavailable": "25%"
                      }
                    ],
                    "type": "RollingUpdate"
                  }
                ],
                "template": [
                  {
                    "metadata": [
                      {
                        "annotations": null,
                        "generate_name": "",
                        "generation": 0,
                        "labels": {
                          "app": "2048"
                        },
                        "name": "",
                        "namespace": "",
                        "resource_version": "",
                        "self_link": "",
                        "uid": ""
                      }
                    ],
                    "spec": [
                      {
                        "active_deadline_seconds": 0,
                        "affinity": [],
                        "automount_service_account_token": false,
                        "container": [
                          {
                            "args": null,
                            "command": null,
                            "env": [],
                            "env_from": [],
                            "image": "alexwhen/docker-2048",
                            "image_pull_policy": "Always",
                            "lifecycle": [],
                            "liveness_probe": [],
                            "name": "2048",
                            "port": [
                              {
                                "container_port": 80,
                                "host_ip": "",
                                "host_port": 0,
                                "name": "",
                                "protocol": "TCP"
                              }
                            ],
                            "readiness_probe": [],
                            "resources": [
                              {
                                "limits": null,
                                "requests": null
                              }
                            ],
                            "security_context": [],
                            "startup_probe": [],
                            "stdin": false,
                            "stdin_once": false,
                            "termination_message_path": "/dev/termination-log",
                            "tty": false,
                            "volume_mount": [],
                            "working_dir": ""
                          }
                        ],
                        "dns_config": [],
                        "dns_policy": "ClusterFirst",
                        "host_aliases": [],
                        "host_ipc": false,
                        "host_network": false,
                        "host_pid": false,
                        "hostname": "",
                        "image_pull_secrets": [],
                        "init_container": [],
                        "node_name": "",
                        "node_selector": null,
                        "priority_class_name": "",
                        "restart_policy": "Always",
                        "security_context": [],
                        "service_account_name": "",
                        "share_process_namespace": false,
                        "subdomain": "",
                        "termination_grace_period_seconds": 30,
                        "toleration": [],
                        "volume": []
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_rollout": true
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.eks.aws_cloudwatch_log_group.eks_cluster",
            "module.eks.aws_eks_cluster.main",
            "module.eks.aws_eks_fargate_profile.main",
            "module.eks.aws_iam_role.eks_cluster_role",
            "module.eks.aws_iam_role.fargate_pod_execution_role",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSClusterPolicy",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSServicePolicy",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.ingress",
      "mode": "managed",
      "type": "kubernetes_deployment",
      "name": "ingress",
      "provider": "module.ingress.provider.kubernetes",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "kube-system/alb-ingress-controller",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 1,
                "labels": {
                  "app.kubernetes.io/managed-by": "terraform",
                  "app.kubernetes.io/name": "alb-ingress-controller",
                  "app.kubernetes.io/version": "v1.1.5"
                },
                "name": "alb-ingress-controller",
                "namespace": "kube-system",
                "resource_version": "1546",
                "self_link": "/apis/apps/v1/namespaces/kube-system/deployments/alb-ingress-controller",
                "uid": "8791366b-e9a5-483a-99ac-88eae0b18e73"
              }
            ],
            "spec": [
              {
                "min_ready_seconds": 0,
                "paused": false,
                "progress_deadline_seconds": 600,
                "replicas": 1,
                "revision_history_limit": 10,
                "selector": [
                  {
                    "match_expressions": [],
                    "match_labels": {
                      "app.kubernetes.io/name": "alb-ingress-controller"
                    }
                  }
                ],
                "strategy": [
                  {
                    "rolling_update": [
                      {
                        "max_surge": "25%",
                        "max_unavailable": "25%"
                      }
                    ],
                    "type": "RollingUpdate"
                  }
                ],
                "template": [
                  {
                    "metadata": [
                      {
                        "annotations": null,
                        "generate_name": "",
                        "generation": 0,
                        "labels": {
                          "app.kubernetes.io/name": "alb-ingress-controller",
                          "app.kubernetes.io/version": "v1.1.5"
                        },
                        "name": "",
                        "namespace": "",
                        "resource_version": "",
                        "self_link": "",
                        "uid": ""
                      }
                    ],
                    "spec": [
                      {
                        "active_deadline_seconds": 0,
                        "affinity": [],
                        "automount_service_account_token": false,
                        "container": [
                          {
                            "args": [
                              "--ingress-class=alb",
                              "--cluster-name=eks-demo-prod",
                              "--aws-vpc-id=vpc-0080ce198f8fc1bf8",
                              "--aws-region=eu-west-1",
                              "--aws-max-retries=10"
                            ],
                            "command": null,
                            "env": [],
                            "env_from": [],
                            "image": "docker.io/amazon/aws-alb-ingress-controller:v1.1.5",
                            "image_pull_policy": "Always",
                            "lifecycle": [],
                            "liveness_probe": [
                              {
                                "exec": [],
                                "failure_threshold": 3,
                                "http_get": [
                                  {
                                    "host": "",
                                    "http_header": [],
                                    "path": "/healthz",
                                    "port": "health",
                                    "scheme": "HTTP"
                                  }
                                ],
                                "initial_delay_seconds": 60,
                                "period_seconds": 60,
                                "success_threshold": 1,
                                "tcp_socket": [],
                                "timeout_seconds": 1
                              }
                            ],
                            "name": "alb-ingress-controller",
                            "port": [
                              {
                                "container_port": 10254,
                                "host_ip": "",
                                "host_port": 0,
                                "name": "health",
                                "protocol": "TCP"
                              }
                            ],
                            "readiness_probe": [
                              {
                                "exec": [],
                                "failure_threshold": 3,
                                "http_get": [
                                  {
                                    "host": "",
                                    "http_header": [],
                                    "path": "/healthz",
                                    "port": "health",
                                    "scheme": "HTTP"
                                  }
                                ],
                                "initial_delay_seconds": 30,
                                "period_seconds": 60,
                                "success_threshold": 1,
                                "tcp_socket": [],
                                "timeout_seconds": 3
                              }
                            ],
                            "resources": [
                              {
                                "limits": null,
                                "requests": null
                              }
                            ],
                            "security_context": [],
                            "startup_probe": [],
                            "stdin": false,
                            "stdin_once": false,
                            "termination_message_path": "/dev/termination-log",
                            "tty": false,
                            "volume_mount": [
                              {
                                "mount_path": "/var/run/secrets/kubernetes.io/serviceaccount",
                                "mount_propagation": "None",
                                "name": "alb-ingress-controller-token-txxxn",
                                "read_only": true,
                                "sub_path": ""
                              }
                            ],
                            "working_dir": ""
                          }
                        ],
                        "dns_config": [],
                        "dns_policy": "ClusterFirst",
                        "host_aliases": [],
                        "host_ipc": false,
                        "host_network": false,
                        "host_pid": false,
                        "hostname": "",
                        "image_pull_secrets": [],
                        "init_container": [],
                        "node_name": "",
                        "node_selector": null,
                        "priority_class_name": "",
                        "restart_policy": "Always",
                        "security_context": [],
                        "service_account_name": "alb-ingress-controller",
                        "share_process_namespace": false,
                        "subdomain": "",
                        "termination_grace_period_seconds": 60,
                        "toleration": [],
                        "volume": [
                          {
                            "aws_elastic_block_store": [],
                            "azure_disk": [],
                            "azure_file": [],
                            "ceph_fs": [],
                            "cinder": [],
                            "config_map": [],
                            "csi": [],
                            "downward_api": [],
                            "empty_dir": [],
                            "fc": [],
                            "flex_volume": [],
                            "flocker": [],
                            "gce_persistent_disk": [],
                            "git_repo": [],
                            "glusterfs": [],
                            "host_path": [],
                            "iscsi": [],
                            "local": [],
                            "name": "alb-ingress-controller-token-txxxn",
                            "nfs": [],
                            "persistent_volume_claim": [],
                            "photon_persistent_disk": [],
                            "quobyte": [],
                            "rbd": [],
                            "secret": [
                              {
                                "default_mode": "0644",
                                "items": [],
                                "optional": false,
                                "secret_name": "alb-ingress-controller-token-txxxn"
                              }
                            ],
                            "vsphere_volume": []
                          }
                        ]
                      }
                    ]
                  }
                ]
              }
            ],
            "timeouts": null,
            "wait_for_rollout": true
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.eks.aws_cloudwatch_log_group.eks_cluster",
            "module.eks.aws_eks_cluster.main",
            "module.eks.aws_iam_role.eks_cluster_role",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSClusterPolicy",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSServicePolicy",
            "module.ingress.aws_iam_role.eks_alb_ingress_controller",
            "module.ingress.kubernetes_cluster_role.ingress",
            "module.ingress.kubernetes_cluster_role_binding.ingress",
            "module.ingress.kubernetes_service_account.ingress",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "kubernetes_ingress",
      "name": "app",
      "provider": "module.eks.provider.kubernetes",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2048-game/2048-ingress",
            "load_balancer_ingress": [],
            "metadata": [
              {
                "annotations": {
                  "alb.ingress.kubernetes.io/scheme": "internet-facing",
                  "alb.ingress.kubernetes.io/target-type": "ip",
                  "kubernetes.io/ingress.class": "alb"
                },
                "generate_name": "",
                "generation": 1,
                "labels": {
                  "app": "2048-ingress"
                },
                "name": "2048-ingress",
                "namespace": "2048-game",
                "resource_version": "1608",
                "self_link": "/apis/extensions/v1beta1/namespaces/2048-game/ingresses/2048-ingress",
                "uid": "20d2afd7-74f6-4e64-89fb-747446feae3a"
              }
            ],
            "spec": [
              {
                "backend": [],
                "rule": [
                  {
                    "host": "",
                    "http": [
                      {
                        "path": [
                          {
                            "backend": [
                              {
                                "service_name": "service-2048",
                                "service_port": "80"
                              }
                            ],
                            "path": "/*"
                          }
                        ]
                      }
                    ]
                  }
                ],
                "tls": []
              }
            ],
            "wait_for_load_balancer": false
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks.aws_cloudwatch_log_group.eks_cluster",
            "module.eks.aws_eks_cluster.main",
            "module.eks.aws_eks_fargate_profile.main",
            "module.eks.aws_iam_role.eks_cluster_role",
            "module.eks.aws_iam_role.fargate_pod_execution_role",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSClusterPolicy",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSServicePolicy",
            "module.eks.kubernetes_deployment.app",
            "module.eks.kubernetes_service.app",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "kubernetes_namespace",
      "name": "example",
      "provider": "module.eks.provider.kubernetes",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2048-game",
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "app": "2048"
                },
                "name": "2048-game",
                "resource_version": "777",
                "self_link": "/api/v1/namespaces/2048-game",
                "uid": "73e62b1f-b196-47e9-9622-729e089ad669"
              }
            ],
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.eks.aws_cloudwatch_log_group.eks_cluster",
            "module.eks.aws_eks_cluster.main",
            "module.eks.aws_iam_role.eks_cluster_role",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSClusterPolicy",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSServicePolicy",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "kubernetes_service",
      "name": "app",
      "provider": "module.eks.provider.kubernetes",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "2048-game/service-2048",
            "load_balancer_ingress": [],
            "metadata": [
              {
                "annotations": null,
                "generate_name": "",
                "generation": 0,
                "labels": null,
                "name": "service-2048",
                "namespace": "2048-game",
                "resource_version": "1605",
                "self_link": "/api/v1/namespaces/2048-game/services/service-2048",
                "uid": "8ee68901-4876-4109-8706-d9e099990aea"
              }
            ],
            "spec": [
              {
                "cluster_ip": "172.20.108.241",
                "external_ips": null,
                "external_name": "",
                "external_traffic_policy": "Cluster",
                "load_balancer_ip": "",
                "load_balancer_source_ranges": null,
                "port": [
                  {
                    "name": "",
                    "node_port": 30655,
                    "port": 80,
                    "protocol": "TCP",
                    "target_port": "80"
                  }
                ],
                "publish_not_ready_addresses": false,
                "selector": {
                  "app": "2048"
                },
                "session_affinity": "None",
                "type": "NodePort"
              }
            ],
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.eks.aws_cloudwatch_log_group.eks_cluster",
            "module.eks.aws_eks_cluster.main",
            "module.eks.aws_eks_fargate_profile.main",
            "module.eks.aws_iam_role.eks_cluster_role",
            "module.eks.aws_iam_role.fargate_pod_execution_role",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSClusterPolicy",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSServicePolicy",
            "module.eks.kubernetes_deployment.app",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.ingress",
      "mode": "managed",
      "type": "kubernetes_service_account",
      "name": "ingress",
      "provider": "module.ingress.provider.kubernetes",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "automount_service_account_token": true,
            "default_secret_name": "alb-ingress-controller-token-txxxn",
            "id": "kube-system/alb-ingress-controller",
            "image_pull_secret": [],
            "metadata": [
              {
                "annotations": {
                  "eks.amazonaws.com/role-arn": "arn:aws:iam::903578915146:role/eks-alb-ingress-controller"
                },
                "generate_name": "",
                "generation": 0,
                "labels": {
                  "app.kubernetes.io/managed-by": "terraform",
                  "app.kubernetes.io/name": "alb-ingress-controller"
                },
                "name": "alb-ingress-controller",
                "namespace": "kube-system",
                "resource_version": "717",
                "self_link": "/api/v1/namespaces/kube-system/serviceaccounts/alb-ingress-controller",
                "uid": "5ff07446-0d79-4968-a493-8be3ab03da5f"
              }
            ],
            "secret": [],
            "timeouts": null
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.eks.aws_cloudwatch_log_group.eks_cluster",
            "module.eks.aws_eks_cluster.main",
            "module.eks.aws_iam_role.eks_cluster_role",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSClusterPolicy",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSServicePolicy",
            "module.ingress.aws_iam_role.eks_alb_ingress_controller",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    },
    {
      "module": "module.eks",
      "mode": "managed",
      "type": "local_file",
      "name": "kubeconfig",
      "provider": "module.eks.provider.local",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "apiVersion: v1\npreferences: {}\nkind: Config\n\nclusters:\n- cluster:\n    server: https://6A47DEB29302EA87F282E49ACC17E9D7.sk1.eu-west-1.eks.amazonaws.com\n    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUN5RENDQWJDZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJd01EZ3dPVEE0TXpNeE4xb1hEVE13TURnd056QTRNek14TjFvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBTTBUClQyTldUWXhnV1Rrb3hUYTA2STRwZldFVTFHUmttbjhyNjVqc0lENUVmOGRybm1yWlNoYkp1NHlodEdJeXZXMWwKdjdQWElycU8yeFdYYndJNXZEY1lOTU04YWpXUmtnVjhRWHlQOXBFZ2czZ0FmTHlOQU1iVEZVTkVRbUlzWCtKbgo2NzJzOUVPaTRVMXlVWkxkK0wvNHk0ZWx2U1FWZVdXdG9UWE8wZER2THJKQ1hibUU4UnluL2QyQ2pzc0ZHdWVHClo0eVJBM05QcE5FMXl2cVBlT1FoQ09RbkhKekdzY2w3czczL0VVek92NXRicDIvVFVFQVhDRC81ZCtRK0FXUEwKeHNLeUdlYXpiNGtvWmFhU1RpQTdTS09HcmVTV3V1SzNrbzRJNTNhb3RXWGtJdXB6Sm1EZzRaa0hDRFBEUnRRMQpvMFBQOSttL1ZSMkFkL0dHU21zQ0F3RUFBYU1qTUNFd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFCNzgvR3M1NzZNWFN1ZDN3Nm12cW9zNWo0QkcKSWsyaVVjRHF3WHp6UEtpVG0vWUEycXdFZ2dCTzRwUFlGQmpHUUFmakNZQU52V2hFTXFTZXNwRVVOVTBiRUxwTQoyMURpTGc1NUJ0aWsxdnduUldob2pkQ1hxei9NR01XZzAzM3Npelp0cGZtRVBWL3ZPTC9kT2hvTnRjMGtBR2dwCkpXNGlpeE0rQkg0ekVoZUdxL1ZrdEY2NG5kdDd3ZFI1d2x2ZmpTb0ZYYlBWNXhraERrZWgzNGZnSktvY3ZFNnYKTlZpZGFqTnJDVDJlQzlJQjhQRkNmbzBxeHB6T1BPdS9mRzFMVHZMWjYvZVpQSmJkRTZsYTJDbXRoMG92RE02Mgoyb0RpNExXb2FSOVFML1pyeENHWjVtK1VYbHh2U3pObEFVL0pVSmpjRnJQenMza2VMRGNWOXNDcW9YWT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=\n  name: eks_eks-demo-prod\n\ncontexts:\n- context:\n    cluster: eks_eks-demo-prod\n    user: eks_eks-demo-prod\n  name: eks_eks-demo-prod\n\ncurrent-context: eks_eks-demo-prod\n\nusers:\n- name: eks_eks-demo-prod\n  user:\n    exec:\n      apiVersion: client.authentication.k8s.io/v1alpha1\n      command: aws-iam-authenticator\n      args:\n        - \"token\"\n        - \"-i\"\n        - \"eks-demo-prod\"",
            "content_base64": null,
            "directory_permission": "0777",
            "file_permission": "0777",
            "filename": "/Users/lakshminarasimhampodapati/.kube/config",
            "id": "2936a4abc1b4379b5971a4ba2d6cbab6a2c8a6c0",
            "sensitive_content": null
          },
          "private": "bnVsbA==",
          "dependencies": [
            "module.eks.aws_cloudwatch_log_group.eks_cluster",
            "module.eks.aws_eks_cluster.main",
            "module.eks.aws_iam_role.eks_cluster_role",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSClusterPolicy",
            "module.eks.aws_iam_role_policy_attachment.AmazonEKSServicePolicy",
            "module.vpc.aws_subnet.private",
            "module.vpc.aws_subnet.public",
            "module.vpc.aws_vpc.main"
          ]
        }
      ]
    }
  ]
}
